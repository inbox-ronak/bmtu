<!-- <script src="<?php echo base_url() ?>public/dist/js/jquery.validate.min.js"></script><script src="<?php echo base_url() ?>public/plugins/ckeditor_new/ckeditor.js"></script><script src="<?php echo base_url() ?>public/dist/js/additional-methods.min.js"></script><div class="content-wrapper"> --><div class="content-wrapper"><section class="content-header">    <div class="container-fluid">        <div class="row mb-2">            <div class="col-sm-6">                <h1>Add Email Template</h1>            </div>            <div class="col-sm-6">                <div class="breadcrumb float-sm-right">                    <a href="<?= base_url('admin/email_templates'); ?>" class="btn btn-success"><i class="fa fa-list"></i> List of Email Templates</a>                </div>            </div>        </div>    </div><!-- /.container-fluid --></section><section class="content">                      <section class="content">    <div class="container-fluid">        <div class="row">            <!-- left column -->            <div class="col-md-12">                <!-- jquery validation -->                <div class="card">                    <div class="card-header">                        <h3 class="card-title">Add Email Template</h3>                    </div>                    <!-- /.card-header -->                    <!-- form start -->                    <div class="card-body">                    <?php if (!empty($this->session->flashdata('message'))) {                        echo $this->session->flashdata('message');                    } ?>                    <?php echo form_open(base_url('admin/email_templates/add_template'), 'class="form-horizontal" id="user_form" enctype="multipart/form-data" method="post"') ?>                     <div class="form-group">                        <label for="email_template_for" class="col-sm-2 control-label">Email For <span class="text-danger">*</span> </label>                        <div class="col-sm-9">                            <?php                            $email_template_for = array(                                'type' => 'text',                                'name' => 'email_template_for',                                'id' => 'email_template_for',                                'class' => 'form-control',                                'placeholder' => 'Email Title',                                'value' => (isset($_POST['email_template_for'])) ? $_POST['email_template_for'] : '',                            );                            echo form_input($email_template_for); ?>                        </div>                    </div>                    <?php                    $email_template_slug = array(                        'type' => 'hidden',                        'name' => 'identifier',                        'id' => 'identifier',                        'class' => 'form-control',                        'placeholder' => 'News Slug',                        'value' => (isset($_POST['identifier'])) ? $_POST['identifier'] : '',                    );                    echo form_input($email_template_slug); ?>                    <?php                    $langArr = langArr();                    foreach ($langArr as $key => $val) {                        $compulsory = "";                                                   $compulsory = "<span class='text-danger'>*</span>";                         ?>                         <div class="form-group">                            <label for="email_template_subject_en" class="col-sm-3 control-label">Email Subject <small style="color: blue; font-weight: bold;"><i>[<?= $val; ?>]</i></small><?php echo $compulsory; ?> <small style="color: blue; font-weight: bold;"></small></label>                            <div class="col-sm-9">                                <?php                                $email_template_subject_en = array(                                    'type' => 'text',                                    'name' => 'email_template_subject_' . $key,                                    'id' => 'email_template_subject_' . $key,                                    'class' => 'form-control',                                    'placeholder' => 'Email Subject ['. $val.']',                                    'value' => (isset($_POST['email_template_subject_' . $key])) ? $_POST['email_template_subject_' . $key] : '',                                );                                echo form_input($email_template_subject_en);                                ?>                            </div>                        </div>                    <?php } ?>                    <?php                    $langArr = langArr();                    foreach ($langArr as $key => $val) {                        $compulsory = "";                                               $compulsory = "<span class='text-danger'>*</span>";                         ?>                         <div class="form-group" >                            <label for="email_template_body_<?php echo $key; ?>" class="col-sm-2 control-label">Email Body <small style="color: blue; font-weight: bold;"><i>[<?= $val; ?>]</i></small><?php echo $compulsory; ?> <small style="color: blue; font-weight: bold;"></small></label>                             <div class="col-sm-9">                                                                    <textarea class="textarea_en summernote" id="email_template_body_<?php echo $key; ?>" name="email_template_body_<?php echo $key; ?>" rows="2" >                                        <?php echo (isset($_POST['email_template_body_' . $key])) ? $_POST['email_template_body_' . $key] : ''; ?>                                    </textarea>                                                                                            </div>                        </div>                    <?php } ?>                    <div class="form-group col-md-6">                              <label >Status</label>                              <select id="status" name="status" class="form-control form-control-sm select2" style="width: 100%;">                                 <option value="1">Active</option>                                 <option value="0">In-Active</option>                              </select>                           </div>                    <div class="form-group">                        <div class="col-md-11">                            <input type="submit" name="submit" value="Apply" class="btn btn-info pull-right">                            <input type="submit" name="submit" value="Save & Close" class="btn btn-info pull-right">                              <a href="<?=base_url().'admin/email_templates';?>"><input type="button" name="submit" value="Cancel" class="btn btn-info pull-right"></a>                        </div>                    </div>                    <?php echo form_close(); ?>                </div>                </div>                <!-- /.card -->            </div>            <!--/.col (left) -->            <!--/.col (right) -->        </div>        <!-- /.row -->    </div><!-- /.container-fluid --></section></section></div><script language="javascript">    $(document).ready(function () {        $("input[name='email_template_for']").keyup(function () {            $("input[name='identifier']").val($(this).val().replace(/[^a-z0-9\s]/gi, '').replace(/\s\s+/g, '-').replace(/[_\s]/g, '-').toLowerCase());        }).keyup();        $('#identifier').keyup(function () {            this.value = this.value.replace(/[^a-z0-9\s]/gi, '-').replace(/\s\s+/g, '-').replace(/[_\s]/g, '-').toLowerCase();        });    });</script><script language="javascript">    $(document).ready(function () {        $("input[name='news_title_en']").keyup(function () {            $("input[name='identifier']").val($(this).val().replace(/[^a-z0-9\s]/gi, '').replace(/\s\s+/g, '-').replace(/[_\s]/g, '-').toLowerCase());        }).keyup();        $('#identifier').keyup(function () {            this.value = this.value.replace(/[^a-z0-9\s]/gi, '-').replace(/\s\s+/g, '-').replace(/[_\s]/g, '-').toLowerCase();        });<?php foreach ($langArr as $key => $val) { ?>            get_editor('email_template_body_<?php echo $key; ?>');<?php } ?>    });</script><!-- <link href="<?= base_url() ?>public/plugins/select2/select2.min.css" rel="stylesheet" /><script src="<?= base_url() ?>public/plugins/select2/select2.min.js"></script> --><script type="text/javascript">    // In your Javascript (external .js resource or <script> tag)    $(document).ready(function () {        $('.js-example-basic-single').select2();    });</script><div id="uploadimageModal" class="modal uploadimageModal " role="dialog" >    <div class="modal-dialog" style="width: 100%;">        <div class="modal-content ">            <div class="modal-header">                <button type="button" class="close" data-dismiss="modal">&times;</button>                <h4 class="modal-title">Upload & Crop Image</h4>            </div>            <div class="modal-body">                <div class="row">                    <div class="col-md-12 text-center">                        <div id="upload-demo" class="upload-demo"></div>                    </div>                </div>            </div>            <div class="modal-footer">                <button class="btn btn-success crop_images">Crop & Upload Image &nbsp;<i class="fa fa-spinner fa-spin fa-3x fa-fw crop_popup_image" style="font-size:18px; display: none;"></i></button>                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>            </div>        </div>    </div></div><script>    $(document).ready(function() {               function sendFile(file, editor, welEditable) {            data = new FormData();            data.append("file", file);            $.ajax({                data: data,                type: "POST",                url: "<?php echo base_url(); ?>admin/news/img_upload_via_editor",                cache: false,                contentType: false,                processData: false,                success: function(url) {                                        $('.textarea_en').summernote('editor.insertImage',url);                },                error: function(jqXHR, ajaxOptions, thrownError){                    if (jqXHR.responseText) {                        toastr.error(jqXHR.responseText, 'Inconceivable!')                    } else {                        console.error("<div>Http status: " + jqXHR.status + " " + jqXHR.statusText + "</div>" + "<div>ajaxOptions: " + ajaxOptions + "</div>"                            + "<div>thrownError: " + thrownError + "</div>");                    }                }            });        }        $('.textarea_fr').summernote({            height: 200,            callbacks: {                onImageUpload: function(files, editor, welEditable) {                    sendFile1(files[0], editor, welEditable);                }            },			fontNames: ['Arial', 'Arial Black', 'Comic Sans MS', 'Courier New','Avante Garde','Times New Roman','Helvetica'],			fontNamesIgnoreCheck: ['Avante Garde']        });        function sendFile1(file, editor, welEditable) {            data = new FormData();            data.append("file", file);            $.ajax({                data: data,                type: "POST",                url: "<?php echo base_url(); ?>admin/news/img_upload_via_editor",                cache: false,                contentType: false,                processData: false,                success: function(url) {                                        $('.textarea_fr').summernote('editor.insertImage',url);                },                error: function(jqXHR, ajaxOptions, thrownError){                    if (jqXHR.responseText) {                        toastr.error(jqXHR.responseText, 'Inconceivable!')                    } else {                        console.error("<div>Http status: " + jqXHR.status + " " + jqXHR.statusText + "</div>" + "<div>ajaxOptions: " + ajaxOptions + "</div>"                            + "<div>thrownError: " + thrownError + "</div>");                    }                }            });        }    });</script>